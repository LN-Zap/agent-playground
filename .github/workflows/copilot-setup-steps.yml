name: Copilot Setup Steps

on:
  workflow_dispatch:
  push:
    paths:
      - .github/workflows/copilot-setup-steps.yml
      - .github/workflows/reusable-copilot-setup-steps.yml
  pull_request:
    paths:
      - .github/workflows/copilot-setup-steps.yml
      - .github/workflows/reusable-copilot-setup-steps.yml

jobs:
  copilot-setup-steps:
    uses: ./.github/workflows/reusable-copilot-setup-steps.yml
    with:
      runner-label: copilot-devenv-runner
      activation-script-path: /home/runner/copilot-devenv-activate.sh
      required-artifact-file: rulesync.jsonc
      summary-workflow-path: .github/workflows/copilot-setup-steps.yml
    secrets: inherit
